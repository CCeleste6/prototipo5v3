<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>prototipo5v2 - Legado Escolar</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>Legado Escolar — Protótipo</h1>
  </header>

  <main class="container">
    <section class="panel" id="setup-panel">
      <h2>Configurar Aluno</h2>
      <label>Nome: <input id="input-nome" /></label>
      <label>Casa:
        <select id="input-casa">
          <option>Precursores</option>
          <option>Visionários</option>
          <option>Guardiões</option>
          <option>Solidários</option>
        </select>
      </label>
      <button id="btn-criar">Criar / Carregar aluno</button>
    </section>

    <section class="panel" id="aluno-panel" hidden>
      <div class="aluno-top">
        <img id="rank-badge" alt="brasão" class="badge"/>
        <div>
          <h2 id="aluno-nome">—</h2>
          <div id="aluno-casa">—</div>
          <div id="aluno-rank">—</div>
        </div>
      </div>

      <div class="stats">
        <div>PM: <span id="aluno-pm">0</span></div>
        <div>PC: <span id="aluno-pc">0</span></div>
        <div>XP: <span id="aluno-xp">0</span> (<span id="aluno-lvl">0</span>)</div>
        <div id="xp-bar"><div id="xp-fill"></div></div>
      </div>

      <div class="actions">
        <button id="btn-iniciar-quiz">Iniciar Quiz</button>
        <button id="btn-vantagens">Vantagens</button>
        <button id="btn-inventario">Inventário</button>
        <button id="btn-ranking">Ranking</button>
        <button id="btn-config">Configurar</button>
        <button id="btn-switch-student" class="btn-secondary">Trocar Aluno</button>
      </div>
    </section>

    <section class="panel" id="quiz-panel" hidden>
      <h2>Quiz — 10 perguntas</h2>
      <form id="quiz-form"></form>
      <div class="quiz-actions">
        <button id="btn-submit-quiz" type="button">Enviar respostas</button>
        <button id="btn-cancel-quiz" type="button" class="btn-secondary">Cancelar</button>
      </div>
    </section>

    <div id="results-overlay" class="modal-overlay" hidden>
      <section class="panel" id="results-panel">
        <h2>Resultados do Quiz</h2>
        <p class="results-score">Você acertou <strong id="results-score-num">X</strong>/10!</p>
        <div class="results-gains">
          <div>+<span id="results-pm">0</span> PM</div>
          <div>+<span id="results-pc">0</span> PC (Vantagens)</div>
          <div>+<span id="results-xp">0</span> XP</div>
        </div>
        <div class="panel-actions">
          <button id="btn-close-results">Ok</button>
        </div>
      </section>
    </div>

    <section class="panel" id="vantagens-panel" hidden>
      <h2>Escolher Vantagens (1 por ranque desbloqueado)</h2>
      <div id="vantagens-list">
        </div>
      <div class="panel-actions">
        <button id="btn-save-vantagens">Salvar escolhas</button>
        <button id="btn-close-vantagens" class="btn-secondary">Fechar</button>
      </div>
    </section>

    <section class="panel" id="inventario-panel" hidden>
      <h2>Inventário / Histórico de Vantagens</h2>
      <ul id="inventario-list"></ul>
      <div class="panel-actions">
        <button id="btn-export-inv">Exportar CSV</button>
        <button id="btn-clear-inv" class="btn-danger">Limpar</button>
        <button id="btn-close-inv" class="btn-secondary">Fechar</button>
      </div>
    </section>

    <section class="panel" id="ranking-panel" hidden>
      <h2>Ranking</h2>
      <h3>Alunos</h3><ul id="ranking-alunos"></ul>
      <h3>Casas</h3><ul id="ranking-casas"></ul>
      <div class="panel-actions"><button id="btn-close-ranking" class="btn-secondary">Fechar</button></div>
    </section>

    <section class="panel" id="config-panel" hidden>
      <h2>Configurações</h2>
      <label>PM fixo por atividade: <input id="cfg-pm" type="number" min="0" /></label>
      <label>XP por acerto: <input id="cfg-xp-per" type="number" min="1" /></label>
      <label>XP para evoluir (base): <input id="cfg-xp-needed" type="number" min="10" /></label>
      <div class="panel-actions">
        <button id="btn-save-config">Salvar</button>
        <button id="btn-delete-student" class="btn-danger">Deletar Aluno Atual</button>
        <button id="btn-close-config" class="btn-secondary">Fechar</button>
      </div>
    </section>

  </main>

  <footer>
    <small>Protótipo: manter em localhost/GitHub Pages</small>
  </footer>

  
  <script src="VANTAGENS.js"></script>
  <script src="app.js"></script>
</body>
</html>
